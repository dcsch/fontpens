//
//  BoundsPenTests.swift
//  Pens
//
//  Created by David Schweinsberg on 8/3/20.
//  Copyright Â© 2020 David Schweinsberg. All rights reserved.
//

import XCTest
@testable import FontPens

final class BoundsPensTests: XCTestCase {

  func testBounds1() {
    let pen = BoundsPen()
    pen.move(to: CGPoint(x: 0.0, y: 0.0))
    pen.curve(to: [CGPoint(x: 25.0, y: 100.0),
                   CGPoint(x: 75.0, y: 100.0),
                   CGPoint(x: 100.0, y: 0.0)])

    XCTAssertEqual(pen.bounds.minX, 0.0)
    XCTAssertEqual(pen.bounds.minY, 0.0)
    XCTAssertEqual(pen.bounds.maxX, 100.0)
    XCTAssertEqual(pen.bounds.maxY, 75.0)
  }

  func testBounds2() {
    let pen = BoundsPen()
    pen.move(to: CGPoint(x: 0.0, y: 0.0))
    pen.curve(to: [CGPoint(x: 50.0, y: 0.0),
                   CGPoint(x: 100.0, y: 50.0),
                   CGPoint(x: 100.0, y: 100.0)])
    
    XCTAssertEqual(pen.bounds.minX, 0.0)
    XCTAssertEqual(pen.bounds.minY, 0.0)
    XCTAssertEqual(pen.bounds.maxX, 100.0)
    XCTAssertEqual(pen.bounds.maxY, 100.0)
  }

  func testBounds3() {
    let pen = BoundsPen()
    pen.move(to: CGPoint(x: 50.0, y: 0.0))
    pen.curve(to: [CGPoint(x: 0.0, y: 100.0),
                   CGPoint(x: 100.0, y: 100.0),
                   CGPoint(x: 50.0, y: 0.0)])

    XCTAssertEqual(pen.bounds.minX, 35.566243270259356)
    XCTAssertEqual(pen.bounds.minY, 0.0)
    XCTAssertEqual(pen.bounds.maxX, 64.43375672974068)
    XCTAssertEqual(pen.bounds.maxY, 75.0)
  }
  
  static var allTests = [
    ("testBounds1", testBounds1),
    ("testBounds2", testBounds2),
    ("testBounds3", testBounds3),
  ]

}
